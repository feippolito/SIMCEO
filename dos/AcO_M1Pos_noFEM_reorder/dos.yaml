simulation:
  sampling frequency: 2000
  duration: 20
  server:
    IP: 127.0.0.1

drivers:
  M1:
    delay: 0
    sampling_rate: 2000
    inputs:
      Txyz:
        lien: [AcO_controller, M1 Txyz]
      Rxyz:
        lien: [AcO_controller, M1 Rxyz]
      modes:
        lien: [AcO_controller, M1 BM]

  M2:
    delay: 0
    sampling_rate: 2000
    inputs:
      Txyz:
        lien: [AcO_controller ,M2 Txyz]
      Rxyz:
        lien: [AcO_controller ,M2 Rxyz]

  wfs48:
    delay: 0
    sampling_rate: 2000
    outputs:
      M12_RBM:
        sampling_rate: 2000
        size: 273
        logs: {decimation: 1}

  AcO_controller:
    server: false
    sampling_rate: 2000
    inputs:
      x_hat:
        lien: [wfs48, M12_RBM]
    shape: [7, 39]
    split:
      indices_or_sections: [3, 6, 9, 12]
      axis: 1
    outputs:
      M1 Txyz:
        size: [7, 3]
        sampling_rate: 2000
        logs: {decimation: 1}
      M1 Rxyz:
        size: [7, 3]
        sampling_rate: 2000
        logs: {decimation: 1}
      M2 Txyz:
        size: [7, 3]
        sampling_rate: 2000
        logs: {decimation: 1}
      M2 Rxyz:
        sampling_rate: 2000
        size: [7, 3]
        logs: {decimation: 1}
      M1 BM:
        size: [7, 27]
        sampling_rate: 2000
        logs: {decimation: 1}

  M1PosHP0:
    sampling_rate: 1
    reorder:
      segments: 7
      groups: 3
      inputs: 2
    server: false
    inputs:
      Txyz:
        lien: [AcO_controller, M1 Txyz]
        size: 21
      Rxyz:
        lien: [AcO_controller, M1 Rxyz]
        size: 21
    outputs:
      M1PosHP0_out:
        size: 42
        logs: {decimation: 1}

COMMENTS:
  science:
    outputs:
      wfe_rms:
        size: 1
        #logs: {decimation: 1}
      segment_wfe_rms:
        size: 7
        #logs: {decimation: 1}
      PSSn:
        size: 1
        #logs: {decimation: 1}
      tiptilt:
        size: 2
        #logs: {decimation: 1}
      segment_piston:
        size: 7
        #logs: {decimation: 1}
      segment_tiptilt:
        size: 14
        logs: {decimation: 1}